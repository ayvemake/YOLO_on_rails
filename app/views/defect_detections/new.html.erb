<div class="container mx-auto px-4 py-8">
  <h1 class="text-2xl font-bold mb-6">Détection de défauts sur wafer</h1>
  
  <%= form_with(model: @defect_detection, local: true, class: "space-y-6") do |form| %>
    <% if flash[:alert] %>
      <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative" role="alert">
        <span class="block sm:inline"><%= flash[:alert] %></span>
      </div>
    <% end %>
    
    <div>
      <%= form.label :image, "Image du wafer", class: "block text-sm font-medium text-gray-700 mb-1" %>
      <%= form.file_field :image, accept: "image/*", class: "block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100" %>
    </div>
    
    <div>
      <label for="confidence" class="block text-sm font-medium text-gray-700 mb-1">Seuil de confiance</label>
      <input type="range" name="confidence" id="confidence" min="0.1" max="0.9" step="0.05" value="0.25" class="w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer">
      <div class="flex justify-between text-xs text-gray-500 px-1">
        <span>0.1</span>
        <span>0.5</span>
        <span>0.9</span>
      </div>
      <p class="text-xs text-gray-500 mt-1">Un seuil plus bas détecte plus de défauts potentiels mais peut générer des faux positifs.</p>
    </div>
    
    <div>
      <%= form.submit "Analyser l'image", class: "inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500" %>
    </div>
  <% end %>
</div> 